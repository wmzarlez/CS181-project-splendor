#pragma once

#include <array>
#include <memory>
#include "shader.hpp"
#include "textures.hpp"
#include "buffers.hpp"
#include "glad/glad.h"
#include "game_object.hpp"
#include "window_manager.hpp"
#include "utils.hpp"

namespace OpenGL {
    class Coin_Manager {
        public:
            constexpr static float r = 1.0f;
            constexpr static float height = 0.1f;
        private:
            #pragma pack (1)
            struct Element {
                std::array<float, 3> pos;
                std::array<float, 3> n;
                std::array<float, 2> text_cord;
            };
            #pragma pack ()

            //Front Elements + Back Elements + Side Elements
            std::array<Element, 146> elements {
                Element{.pos = {0,0,height}, .n = {0,0,1}, .text_cord = {.5, .5}}, 
                Element{.pos = {1.000000, 0.000000, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {1.000000, 0.500000}}, 
                Element{.pos = {0.984808, 0.173648, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.992404, 0.586824}}, 
                Element{.pos = {0.939693, 0.342020, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.969846, 0.671010}}, 
                Element{.pos = {0.866025, 0.500000, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.933013, 0.750000}}, 
                Element{.pos = {0.766044, 0.642788, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.883022, 0.821394}}, 
                Element{.pos = {0.642788, 0.766044, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.821394, 0.883022}}, 
                Element{.pos = {0.500000, 0.866025, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.750000, 0.933013}}, 
                Element{.pos = {0.342020, 0.939693, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.671010, 0.969846}}, 
                Element{.pos = {0.173648, 0.984808, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.586824, 0.992404}}, 
                Element{.pos = {0.000000, 1.000000, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.500000, 1.000000}}, 
                Element{.pos = {-0.173648, 0.984808, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.413176, 0.992404}}, 
                Element{.pos = {-0.342020, 0.939693, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.328990, 0.969846}}, 
                Element{.pos = {-0.500000, 0.866025, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.250000, 0.933013}}, 
                Element{.pos = {-0.642788, 0.766044, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.178606, 0.883022}}, 
                Element{.pos = {-0.766044, 0.642788, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.116978, 0.821394}}, 
                Element{.pos = {-0.866025, 0.500000, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.066987, 0.750000}}, 
                Element{.pos = {-0.939693, 0.342020, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.030154, 0.671010}}, 
                Element{.pos = {-0.984808, 0.173648, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.007596, 0.586824}}, 
                Element{.pos = {-1.000000, 0.000000, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.000000, 0.500000}}, 
                Element{.pos = {-0.984808, -0.173648, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.007596, 0.413176}}, 
                Element{.pos = {-0.939693, -0.342020, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.030154, 0.328990}}, 
                Element{.pos = {-0.866025, -0.500000, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.066987, 0.250000}}, 
                Element{.pos = {-0.766044, -0.642788, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.116978, 0.178606}}, 
                Element{.pos = {-0.642788, -0.766044, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.178606, 0.116978}}, 
                Element{.pos = {-0.500000, -0.866025, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.250000, 0.066987}}, 
                Element{.pos = {-0.342020, -0.939693, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.328990, 0.030154}}, 
                Element{.pos = {-0.173648, -0.984808, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.413176, 0.007596}}, 
                Element{.pos = {-0.000000, -1.000000, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.500000, 0.000000}}, 
                Element{.pos = {0.173648, -0.984808, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.586824, 0.007596}}, 
                Element{.pos = {0.342020, -0.939693, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.671010, 0.030154}}, 
                Element{.pos = {0.500000, -0.866025, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.750000, 0.066987}}, 
                Element{.pos = {0.642788, -0.766044, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.821394, 0.116978}}, 
                Element{.pos = {0.766044, -0.642788, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.883022, 0.178606}}, 
                Element{.pos = {0.866025, -0.500000, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.933013, 0.250000}}, 
                Element{.pos = {0.939693, -0.342020, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.969846, 0.328990}}, 
                Element{.pos = {0.984808, -0.173648, 0.100000}, .n = {0.000000, 0.000000, 1.000000}, .text_cord = {0.992404, 0.413176}},
                Element{.pos = {0,0,-height}, .n = {0,0,-1}, .text_cord = {0.5, 0.5}}, 
                Element{.pos = {1.000000, 0.000000, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.000000, 0.500000}}, 
                Element{.pos = {0.984808, 0.173648, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.007596, 0.586824}}, 
                Element{.pos = {0.939693, 0.342020, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.030154, 0.671010}}, 
                Element{.pos = {0.866025, 0.500000, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.066987, 0.750000}}, 
                Element{.pos = {0.766044, 0.642788, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.116978, 0.821394}}, 
                Element{.pos = {0.642788, 0.766044, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.178606, 0.883022}}, 
                Element{.pos = {0.500000, 0.866025, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.250000, 0.933013}}, 
                Element{.pos = {0.342020, 0.939693, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.328990, 0.969846}}, 
                Element{.pos = {0.173648, 0.984808, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.413176, 0.992404}}, 
                Element{.pos = {0.000000, 1.000000, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.500000, 1.000000}}, 
                Element{.pos = {-0.173648, 0.984808, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.586824, 0.992404}}, 
                Element{.pos = {-0.342020, 0.939693, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.671010, 0.969846}}, 
                Element{.pos = {-0.500000, 0.866025, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.750000, 0.933013}}, 
                Element{.pos = {-0.642788, 0.766044, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.821394, 0.883022}}, 
                Element{.pos = {-0.766044, 0.642788, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.883022, 0.821394}}, 
                Element{.pos = {-0.866025, 0.500000, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.933013, 0.750000}}, 
                Element{.pos = {-0.939693, 0.342020, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.969846, 0.671010}}, 
                Element{.pos = {-0.984808, 0.173648, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.992404, 0.586824}}, 
                Element{.pos = {-1.000000, 0.000000, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {1.000000, 0.500000}}, 
                Element{.pos = {-0.984808, -0.173648, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.992404, 0.413176}}, 
                Element{.pos = {-0.939693, -0.342020, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.969846, 0.328990}}, 
                Element{.pos = {-0.866025, -0.500000, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.933013, 0.250000}}, 
                Element{.pos = {-0.766044, -0.642788, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.883022, 0.178606}}, 
                Element{.pos = {-0.642788, -0.766044, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.821394, 0.116978}}, 
                Element{.pos = {-0.500000, -0.866025, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.750000, 0.066987}}, 
                Element{.pos = {-0.342020, -0.939693, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.671010, 0.030154}}, 
                Element{.pos = {-0.173648, -0.984808, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.586824, 0.007596}}, 
                Element{.pos = {-0.000000, -1.000000, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.500000, 0.000000}}, 
                Element{.pos = {0.173648, -0.984808, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.413176, 0.007596}}, 
                Element{.pos = {0.342020, -0.939693, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.328990, 0.030154}}, 
                Element{.pos = {0.500000, -0.866025, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.250000, 0.066987}}, 
                Element{.pos = {0.642788, -0.766044, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.178606, 0.116978}}, 
                Element{.pos = {0.766044, -0.642788, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.116978, 0.178606}}, 
                Element{.pos = {0.866025, -0.500000, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.066987, 0.250000}}, 
                Element{.pos = {0.939693, -0.342020, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.030154, 0.328990}}, 
                Element{.pos = {0.984808, -0.173648, -0.100000}, .n = {0.000000, 0.000000, -1.000000}, .text_cord = {0.007596, 0.413176}}, 
                Element{.pos = {1.000000, 0.000000, 0.100000}, .n = {1.000000, 0.000000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {1.000000, 0.000000, -0.100000}, .n = {1.000000, 0.000000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.984808, 0.173648, 0.100000}, .n = {0.984808, 0.173648, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.984808, 0.173648, -0.100000}, .n = {0.984808, 0.173648, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.939693, 0.342020, 0.100000}, .n = {0.939693, 0.342020, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.939693, 0.342020, -0.100000}, .n = {0.939693, 0.342020, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.866025, 0.500000, 0.100000}, .n = {0.866025, 0.500000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.866025, 0.500000, -0.100000}, .n = {0.866025, 0.500000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.766044, 0.642788, 0.100000}, .n = {0.766044, 0.642788, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.766044, 0.642788, -0.100000}, .n = {0.766044, 0.642788, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.642788, 0.766044, 0.100000}, .n = {0.642788, 0.766044, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.642788, 0.766044, -0.100000}, .n = {0.642788, 0.766044, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.500000, 0.866025, 0.100000}, .n = {0.500000, 0.866025, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.500000, 0.866025, -0.100000}, .n = {0.500000, 0.866025, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.342020, 0.939693, 0.100000}, .n = {0.342020, 0.939693, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.342020, 0.939693, -0.100000}, .n = {0.342020, 0.939693, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.173648, 0.984808, 0.100000}, .n = {0.173648, 0.984808, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.173648, 0.984808, -0.100000}, .n = {0.173648, 0.984808, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.000000, 1.000000, 0.100000}, .n = {0.000000, 1.000000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.000000, 1.000000, -0.100000}, .n = {0.000000, 1.000000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.173648, 0.984808, 0.100000}, .n = {-0.173648, 0.984808, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.173648, 0.984808, -0.100000}, .n = {-0.173648, 0.984808, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.342020, 0.939693, 0.100000}, .n = {-0.342020, 0.939693, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.342020, 0.939693, -0.100000}, .n = {-0.342020, 0.939693, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.500000, 0.866025, 0.100000}, .n = {-0.500000, 0.866025, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.500000, 0.866025, -0.100000}, .n = {-0.500000, 0.866025, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.642788, 0.766044, 0.100000}, .n = {-0.642788, 0.766044, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.642788, 0.766044, -0.100000}, .n = {-0.642788, 0.766044, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.766044, 0.642788, 0.100000}, .n = {-0.766044, 0.642788, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.766044, 0.642788, -0.100000}, .n = {-0.766044, 0.642788, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.866025, 0.500000, 0.100000}, .n = {-0.866025, 0.500000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.866025, 0.500000, -0.100000}, .n = {-0.866025, 0.500000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.939693, 0.342020, 0.100000}, .n = {-0.939693, 0.342020, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.939693, 0.342020, -0.100000}, .n = {-0.939693, 0.342020, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.984808, 0.173648, 0.100000}, .n = {-0.984808, 0.173648, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.984808, 0.173648, -0.100000}, .n = {-0.984808, 0.173648, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-1.000000, 0.000000, 0.100000}, .n = {-1.000000, 0.000000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-1.000000, 0.000000, -0.100000}, .n = {-1.000000, 0.000000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.984808, -0.173648, 0.100000}, .n = {-0.984808, -0.173648, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.984808, -0.173648, -0.100000}, .n = {-0.984808, -0.173648, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.939693, -0.342020, 0.100000}, .n = {-0.939693, -0.342020, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.939693, -0.342020, -0.100000}, .n = {-0.939693, -0.342020, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.866025, -0.500000, 0.100000}, .n = {-0.866025, -0.500000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.866025, -0.500000, -0.100000}, .n = {-0.866025, -0.500000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.766044, -0.642788, 0.100000}, .n = {-0.766044, -0.642788, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.766044, -0.642788, -0.100000}, .n = {-0.766044, -0.642788, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.642788, -0.766044, 0.100000}, .n = {-0.642788, -0.766044, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.642788, -0.766044, -0.100000}, .n = {-0.642788, -0.766044, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.500000, -0.866025, 0.100000}, .n = {-0.500000, -0.866025, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.500000, -0.866025, -0.100000}, .n = {-0.500000, -0.866025, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.342020, -0.939693, 0.100000}, .n = {-0.342020, -0.939693, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.342020, -0.939693, -0.100000}, .n = {-0.342020, -0.939693, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.173648, -0.984808, 0.100000}, .n = {-0.173648, -0.984808, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.173648, -0.984808, -0.100000}, .n = {-0.173648, -0.984808, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.000000, -1.000000, 0.100000}, .n = {-0.000000, -1.000000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {-0.000000, -1.000000, -0.100000}, .n = {-0.000000, -1.000000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.173648, -0.984808, 0.100000}, .n = {0.173648, -0.984808, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.173648, -0.984808, -0.100000}, .n = {0.173648, -0.984808, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.342020, -0.939693, 0.100000}, .n = {0.342020, -0.939693, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.342020, -0.939693, -0.100000}, .n = {0.342020, -0.939693, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.500000, -0.866025, 0.100000}, .n = {0.500000, -0.866025, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.500000, -0.866025, -0.100000}, .n = {0.500000, -0.866025, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.642788, -0.766044, 0.100000}, .n = {0.642788, -0.766044, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.642788, -0.766044, -0.100000}, .n = {0.642788, -0.766044, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.766044, -0.642788, 0.100000}, .n = {0.766044, -0.642788, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.766044, -0.642788, -0.100000}, .n = {0.766044, -0.642788, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.866025, -0.500000, 0.100000}, .n = {0.866025, -0.500000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.866025, -0.500000, -0.100000}, .n = {0.866025, -0.500000, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.939693, -0.342020, 0.100000}, .n = {0.939693, -0.342020, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.939693, -0.342020, -0.100000}, .n = {0.939693, -0.342020, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.984808, -0.173648, 0.100000}, .n = {0.984808, -0.173648, 0.000000}, .text_cord = {-1.000000, -1.000000}}, 
                Element{.pos = {0.984808, -0.173648, -0.100000}, .n = {0.984808, -0.173648, 0.000000}, .text_cord = {-1.000000, -1.000000}}
            };

            std::array<unsigned, 432> indices {
                0, 1, 2, 
                0, 2, 3, 
                0, 3, 4, 
                0, 4, 5, 
                0, 5, 6, 
                0, 6, 7, 
                0, 7, 8, 
                0, 8, 9, 
                0, 9, 10, 
                0, 10, 11, 
                0, 11, 12, 
                0, 12, 13, 
                0, 13, 14, 
                0, 14, 15, 
                0, 15, 16, 
                0, 16, 17, 
                0, 17, 18, 
                0, 18, 19, 
                0, 19, 20, 
                0, 20, 21, 
                0, 21, 22, 
                0, 22, 23, 
                0, 23, 24, 
                0, 24, 25, 
                0, 25, 26, 
                0, 26, 27, 
                0, 27, 28, 
                0, 28, 29, 
                0, 29, 30, 
                0, 30, 31, 
                0, 31, 32, 
                0, 32, 33, 
                0, 33, 34, 
                0, 34, 35, 
                0, 35, 36, 
                0, 36, 1, 
                37, 38, 39, 
                37, 39, 40, 
                37, 40, 41, 
                37, 41, 42, 
                37, 42, 43, 
                37, 43, 44, 
                37, 44, 45, 
                37, 45, 46, 
                37, 46, 47, 
                37, 47, 48, 
                37, 48, 49, 
                37, 49, 50, 
                37, 50, 51, 
                37, 51, 52, 
                37, 52, 53, 
                37, 53, 54, 
                37, 54, 55, 
                37, 55, 56, 
                37, 56, 57, 
                37, 57, 58, 
                37, 58, 59, 
                37, 59, 60, 
                37, 60, 61, 
                37, 61, 62, 
                37, 62, 63, 
                37, 63, 64, 
                37, 64, 65, 
                37, 65, 66, 
                37, 66, 67, 
                37, 67, 68, 
                37, 68, 69, 
                37, 69, 70, 
                37, 70, 71, 
                37, 71, 72, 
                37, 72, 73, 
                37, 73, 38, 
                74, 75, 77,
                74, 76, 77,
                76, 77, 79,
                76, 78, 79,
                78, 79, 81,
                78, 80, 81,
                80, 81, 83,
                80, 82, 83,
                82, 83, 85,
                82, 84, 85,
                84, 85, 87,
                84, 86, 87,
                86, 87, 89,
                86, 88, 89,
                88, 89, 91,
                88, 90, 91,
                90, 91, 93,
                90, 92, 93,
                92, 93, 95,
                92, 94, 95,
                94, 95, 97,
                94, 96, 97,
                96, 97, 99,
                96, 98, 99,
                98, 99, 101,
                98, 100, 101,
                100, 101, 103,
                100, 102, 103,
                102, 103, 105,
                102, 104, 105,
                104, 105, 107,
                104, 106, 107,
                106, 107, 109,
                106, 108, 109,
                108, 109, 111,
                108, 110, 111,
                110, 111, 113,
                110, 112, 113,
                112, 113, 115,
                112, 114, 115,
                114, 115, 117,
                114, 116, 117,
                116, 117, 119,
                116, 118, 119,
                118, 119, 121,
                118, 120, 121,
                120, 121, 123,
                120, 122, 123,
                122, 123, 125,
                122, 124, 125,
                124, 125, 127,
                124, 126, 127,
                126, 127, 129,
                126, 128, 129,
                128, 129, 131,
                128, 130, 131,
                130, 131, 133,
                130, 132, 133,
                132, 133, 135,
                132, 134, 135,
                134, 135, 137,
                134, 136, 137,
                136, 137, 139,
                136, 138, 139,
                138, 139, 141,
                138, 140, 141,
                140, 141, 143,
                140, 142, 143,
                142, 143, 145,
                142, 144, 145,
                144, 145, 75, 
                144, 74, 75
            };
    
            //render shared variable
            std::shared_ptr<Shader_Program> _shader;
            std::array<std::shared_ptr<Texture2D>, 6> _textures;
            std::shared_ptr<VBO<Element>> _vbo;
            std::shared_ptr<EBO<unsigned int>> _ebo;

            class Coin : public GameObject {
                private:
                    std::shared_ptr<Shader_Program>     _shader;
                    std::shared_ptr<Texture2D>          _texture;
                    VAO                                 _vao;
                    std::shared_ptr<VBO<Element>>       _vbo;
                    std::shared_ptr<EBO<unsigned int>>  _ebo;
                public:
                    Coin(unsigned int id, glm::vec3 scale, glm::mat3 rot, glm::vec3 trans, 
                        std::shared_ptr<Shader_Program> shader, std::shared_ptr<Texture2D> texture, 
                        std::shared_ptr<VBO<Element>> vbo, std::shared_ptr<EBO<unsigned>> ebo) : 
                        GameObject{id, scale, rot, trans}, _shader{shader}, _texture{texture}, _vao{}, _vbo{vbo}, _ebo{ebo} {
                            _vao.bind();
                            _vbo->bind();
                            glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, sizeof(Element), (void*)0);
                            glEnableVertexAttribArray(0);
                            glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, sizeof(Element), (void*)(3 * sizeof(float)));
                            glEnableVertexAttribArray(1);
                            glVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, sizeof(Element), (void*)(6 * sizeof(float)));
                            glEnableVertexAttribArray(2);
                            _ebo->bind();
                        }

                    void draw() const override {
                        _texture->bind(0);
                        _shader->use();
                        _shader->setMat4("model", get_model_mat4());
                        _vao.bind();
                        glDrawElements(GL_TRIANGLES, 432, GL_UNSIGNED_INT, 0);
                    }
            };

        public:
            Coin_Manager(std::shared_ptr<Shader_Program> shader);

            std::shared_ptr<GameObject> get_a_coin(unsigned int id, 
                glm::vec3 scaling, 
                glm::mat3 rot,
                glm::vec3 trans
            ) {
                assert(id >= 200 && id < 257 && id % 10 < 7);
                return std::make_shared<Coin>(id, std::move(scaling), std::move(rot), std::move(trans), _shader, _textures[(id-200)/10], _vbo, _ebo);
            }

            void update_shader() const {
                _shader->use();
                _shader->setVec3("objectColor", 1, 0.5, 0.31);
                _shader->setVec3("lightColor", Window::light_color);
                _shader->setVec3("viewPos", Window::camera.get_position());
                _shader->setVec3("lightPos", Window::light_pos);
                _shader->setMat4("projection", Window::camera.get_projection(Window::src_width, Window::src_height));
                _shader->setMat4("view", Window::camera.get_view_mat());
            }
    };

    Coin_Manager::Coin_Manager(std::shared_ptr<Shader_Program> shader) : 
        _shader{shader}, _vbo{std::make_shared<VBO<Element>>(std::vector<Element>(std::begin(elements), std::end(elements)))}, 
        _ebo{std::make_shared<EBO<unsigned int>>(std::vector<unsigned int>(std::begin(indices), std::end(indices)))} {
        _textures[0] = std::make_shared<Texture2D>("../opengl/data/coin_black.png");
        _textures[1] = std::make_shared<Texture2D>("../opengl/data/coin_red.png");
        _textures[2] = std::make_shared<Texture2D>("../opengl/data/coin_green.png");
        _textures[3] = std::make_shared<Texture2D>("../opengl/data/coin_blue.png");
        _textures[4] = std::make_shared<Texture2D>("../opengl/data/coin_white.png");
        _textures[5] = std::make_shared<Texture2D>("../opengl/data/coin_golden.png");

    }
}